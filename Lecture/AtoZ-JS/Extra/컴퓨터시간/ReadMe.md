# 컴퓨터 시간

## 1. 컴퓨터의 시간이 동작하는 원리는 ??
  * 현실에 존재하는 시간을 전산화하는 것 임
  * 물리량(물릭학 관점에서 봤을 때 시각과 시각 사이의 간격을 시간으로 봄), 위치, 천문현상(지구자전속도 또는 공전,자전 주기등의 현상으로 인한 시간 보상이 필요)
  * 문화에 따라 시간표현이 다를 수 있음(이슬람력, 태양력 등..)
  * 역사적 사건에 의해 시간이 다르게 표현 될 수 있음(1582/10/4 -> 그레고리력 사용해서 1582/10/5이 없음 => 10/15이 됨)
  * 사회적 제도에 의해 시간이 변할수도 있음(Summer Time)

* 협정 세계시(UTC)를 통해 표준화 됨
  * 원자시계와 윤초 보정을 기반으로 표준화한 시각임
  * 모든 시간대는 URC+0을 기준으로 환산한다(한국은 UTC+9, 영국은 UTC+0..)
    * 영국이 오전 1시면 대한민국은 오전 10시가 됨
  * 표기법은 ISO8601을 따름.
    * 2021-03-20T09:00:00:00.000Z
      *  UTC+0기준으로 2021년 3월 20일 9시
    * 2021-03-20T09:00:00:00.000+09:00
      *  UTC+9기준(한국기준)으로 2021년 3월 20일 9시
    * T는 Time Z 는 Zulu Time을 뜻함.
      경도 0(Zero)의 앞글자 z를 나타내고 z는 무선통신용어로 Zulu라고 표현됨.


## 2. 컴퓨터가 시간을 표현하는 방법
* 각자 자체로  하드웨어에 가진 시스템 클럭을 이용함.
* 시스템 시간이란 특정시각을 기준으로 시스템 클럭의 틱을 세는 것으로 구현 됨
  * 시스템 시간을 값으로 표현한 것을 타임스탬프라고 부름
  * 운영체제마다 기준시간과 단위가 다를 수 있는데 표준적으로 많이 사용되는거 Unix Time임

### 시스템 클럭
  * 대부분 컴퓨터에서는 RTC(Real Time CLock)이라는 모듈을 사용함.
    * 메인보드에 붙어있어 전원을 끄더라도 계속 작동하게 되며 카운터 회로를 통해 클럭을 발생시킴
      * 카운터 회로의 핵심부품인 결정 진동자가 만드는 정확한 주파수를 이용함.
      * 결정 진동자는 보통 1클럭에 32.768kHz가 발생시킴.

### Unix Time
* 1970년 1월 1일 0시 0분 0초가 기준시각이다.
  * 1970년 1월 1일인 이뉴는 유닉스를 개발한 데니스리치가 아무이유 없이 정한 날짜이기 때문
* 그 이전시간은 음수로 표현됨
* 초단위로 시간 증가함
  

## 현재시간을 어떻게 알아낼까?
* 컴퓨터를 키면 자동으로 현재시간을 보여준다
  * 시스템 시간을 네트워크 타임 프로토콜(NTP)를 통해 동기화 할 수 있다.
  * NTP 서버에 네트워크 요청을 하여 현재시간을 받을 수 있다
    * NTP서버는 계층으로 이루어져 있고 그 계층을 Startum이라고 부른다.
    * 최 상위 계층을 PRC(Primary Reference Clock)라고 부른다.
      * PRC(Primary Reference Clock) 원자시계로 정밀하게 측정된 것임.

## 시간대를 어떻게 고려할까?
* 국가, 지역별로 시간이 다를 수 있음
* 현실세계에 이벤트가 발생되면 업데이트 됨
* 표기법은 Asia/Seoul 과 같이 `대륙/도시` 형태를 따르고 `ZoneId` 라고 부른다

## 시간을 어떻게 활용할까?
* 순수하게 시간만을 기록해야하는 경우
  * 생일, 설립일, 기념일, 국경일 등..

* UTC
  * 사건이 발생한 시각만을 고려할때
  * 로깅, 감사, 시계열 데이터, 주가 시간 등

* Time Zone이 적용된 시간
  * 역사 사회 문화를 고려하여 사용자가 이용한 시각을 정확히 알아야하는 경우
  * UI에 표시되는 시간을 사용자 기준으로 보여줄때 사용한다
    * 결제시각, 푸시알림, UI시각 표시, 캘린더 등..

# JS에서 사용법
* 내장 Date객체, 라이브러리인 date-fns, luxon등을 사용할 수 있음
